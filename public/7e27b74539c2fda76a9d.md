---
title: GitHubã®ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ã™ã‚‹AIWebã‚¢ãƒ—ãƒªä½œã£ã¦ã¿ãŸã€‚
tags:
  - GitHub
  - API
  - AI
  - ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
  - Perplexity
private: false
updated_at: '2025-03-20T20:59:48+09:00'
id: 7e27b74539c2fda76a9d
organization_url_name: null
slide: false
---
ã“ã‚“ã«ã¡ã¯ã€å­¦ç”Ÿã§ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®å‹‰å¼·ã‚’ã—ã¦ã„ã‚‹ã‚ã¾ã¿ã‚„ã§ã™ã€‚

æ™®æ®µã¯Web3é–¢ä¿‚ã®é–‹ç™ºã®å‹‰å¼·ã‚„Webã‚¢ãƒ—ãƒªã®é–‹ç™ºã‚’è¡Œã£ã¦ã„ã‚‹ã®ã§ã™ãŒã€è¶£å‘³ã§ã»ã‹ã®äººã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚“ã§é–‹ç™ºæ‰‹æ³•å‹‰å¼·ã—ã¦ã„ã¾ã™ã€‚

ãŸã ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚€ã«ã‚ãŸã£ã¦ã®æ‚©ã¿ãŒã‚ã‚Šã€ãã‚Œã¯å¤§è¦æ¨¡ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚Œã°ã‚ã‚‹ã»ã©ã‚³ãƒ¼ãƒ‰ã®é‡ãŒè†¨å¤§ã§è¿½ã„ãã‚Œãªã„ã“ã¨ã§ã™...(æ±—)

ãã“ã§è¤‡æ•°ã®APIã¨Nextjsã‚’ç”¨ã„ã¦ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’è¡Œã†Webã‚¢ãƒ—ãƒªã‚’é–‹ç™ºã—ã¾ã—ãŸã€‚

:::note alert
æ³¨æ„
ä»Šå›ã®ã‚ˆã†ãªã‚±ãƒ¼ã‚¹ã§ã¯é »ç¹ã«APIã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã—ã¾ã†ã¨botåˆ¤å®šã‚’é£Ÿã‚‰ã£ã¦ã—ã¾ã†å¯èƒ½æ€§ãŒã‚ã‚Šã€è¿·æƒ‘ã«ãªã‚‰ãªã„ç¯„å›²ã§åˆ©ç”¨ã—ã¦ãã ã•ã„ã€‚
:::

ã¾ãŸå®Œå…¨ãªè§£èª¬è¨˜äº‹ã§ã¯ãªã„ã®ã§ã€ã„ã‚ã„ã‚ggã‚ŠãªãŒã‚‰è¦‹ã¦ã‚‚ã‚‰ãˆã‚Œã°ğŸ’¦


# å®Ÿè¡Œç’°å¢ƒ
### ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- nodejs 22.14.0 LTS
- Nextjs 15.2
- React 19
- PandaCSS

### ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ä»–
- vscode 
- GitHub Copilot
- Perplexity (API)
- llama-3.1-sonar-large-128k-online(Perplexityå‘ã‘LLM)

nodejsã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã¯ãŠå¥½ã¿ã§ã€‚
ãªãŠä»Šå›ã¯`yarn`ã‚’ä½¿ç”¨ã—ã¾ã™
### (è£œè¶³)ãªãœPerplexityãªã®ã‹?

ã‚‚ã¨ã‚‚ã¨ç§ãŒYmobileãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ã€æ˜¨å¹´Sotbankã¨Ymobileãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ã«PerplexityãŒä¸€å¹´ç„¡æ–™ã«ãªã‚‹ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã‚’è¡Œã£ã¦ã„ã¾ã—ãŸã€‚

ãã“ã§æœ‰æ–™ãƒ—ãƒ©ãƒ³ã«åŠ å…¥ã™ã‚‹ã¨æœˆå½“ãŸã‚Š5ãƒ‰ãƒ«ã¾ã§APIãŒä½¿ç”¨ã‹ã®ã†ã«ãªã£ã¦ãŠã‚Šã€ã‚³ã‚¹ãƒ‘ãªã©ã®é¢ã‹ã‚‰ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚

Perplexityã¨softbankã®é–¢ä¿‚ã«ã¤ã„ã¦ã¯è©±ãŒé•·ããªã‚‹ã®ã§çœç•¥ã€‚(ã™ã§ã«è©³ç´°ãŒãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚„å…¬å¼ãƒªãƒªãƒ¼ã‚¹ã«ã‚ãŒã£ã¦ã¾ã™ã€‚)

# é–‹ç™ºæ‰‹é †
### ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
yarn add @pandacss/dev @types/next @types/next @types/react @types/react-dom axios next react react-dom typescript
```

ä»Šå›ã¯CSSãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«PandaCSSã‚’ä½¿ã„ã¾ã™ã€‚

Nextjsã®ç’°å¢ƒæ§‹ç¯‰ã¯ã™ã§ã«æƒ…å ±ãŒã‚ã‚‹ã®ã§å‰²æ„›ã€‚

### PandaCSS åˆæœŸè¨­å®š
```bash
yarn add -D @pandacss/dev
```

```bash
yarn panda init --postcss
```
Nextjsã®global.cssã«ä»¥ä¸‹ã‚’è¨˜è¼‰
```global.css
@layer reset, base, tokens, recipes, utilities;
```

### Perplexityã¨GitHubAPIã‚­ãƒ¼ã®å–å¾—
- Perplexityã®API

https://www.perplexity.ai/settings/api

- GitHubã®API

https://github.com/settings/personal-access-tokens

Githubã®APIã«é–¢ã—ã¦ã¯ãƒ¬ãƒã‚¸ãƒˆãƒªã®èª­ã¿å–ã‚Šæ¨©é™ãã‚‰ã„ã§ã„ã„ã¨æ€ã„ã¾ã™(ç§ã‚‚ã‚°ã‚°ã‚ŠãªãŒã‚‰è¨­å®šã—ãŸã®ã§ãã‚ã—ããªã„ã§ã™...w)

ä¸€å¿œGitHubã®REST APIã«ã¤ã„ã¦ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è¦‹ã‚‹ã®ãŒç¢ºå®Ÿã ã¨æ€ã„ã¾ã™ã€‚

https://docs.github.com/ja/rest/using-the-rest-api/getting-started-with-the-rest-api?apiVersion=2022-11-28

GitHubã®APIã«é–¢ã—ã¦ã¯ãƒãƒ¼ã‚¸ãƒ§ãƒ³åˆ¶ãªã®ã§æ³¨æ„ã§ã™
2025å¹´3æœˆæ™‚ç‚¹ã§ã¯`2022-11-28`ãŒæœ€æ–°ã§ã™ã€‚

# Nextjsã®ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ä½œæˆ
perplexityã®APIã¸ã®POSTè¦æ±‚ã¯axiosã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚
å½“åˆã¯`fetch()`ã‚’ä½¿ã£ã¦ã„ãŸã®ã§ã™ãŒã€ãªãœã‹ã†ã¾ãã„ã‹ãš...ä»¥å‰ä½œã£ãŸåˆ¥ã®AIãƒãƒ£ãƒƒãƒˆã‚¢ãƒ—ãƒªã§ã‚‚axiosã‚’ã¤ã‹ã£ã¦ã„ãŸã®ã§æ¡ç”¨ã—ã¾ã—ãŸã€‚

```ai.ts
import axios from 'axios';

export default async function handler(req, res) {
  if (req.method === 'POST') {
    const { repourl, message } = req.body;
    const msg = repourl + " " + message;
    try {
      const response = await axios.post('https://api.perplexity.ai/chat/completions', {
        model: 'llama-3.1-sonar-large-128k-online',
        messages: [{ role: 'user', content: msg }],
      }, {
        headers: {
          'Authorization': `Bearer ${process.env.PERPLEXITY_API_KEY}`,
          'Content-Type': 'application/json',
        },
      });

      res.status(200).json({ answer: response.data.choices[0].message.content });
    } catch (error) {
      console.error('Error:', error);
      res.status(500).json({ error: 'An error occurred while processing your request.' });
    }
  } else {
    res.setHeader('Allow', ['POST']);
    res.status(405).end(`Method ${req.method} Not Allowed`);
  }
}

```
`model`ã®éƒ¨åˆ†ã«é–¢ã—ã¦ã¯ä¸€æœŸä¸€å¥é–“é•ãˆãšã«è¨˜è¼‰ã—ãªã„ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚
ãŸã å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ¢ãƒ‡ãƒ«ä¸€è¦§ã®èª¬æ˜ãŒã‚¤ãƒã‚¤ãƒã‚ã‹ã‚Šã«ãã„ã§ã™(å‰ã¯ã‚‚ã£ã¨ã‚ã‹ã‚Šã‚„ã™ã‹ã£ãŸ)

ä»Šå›ã¯`llama-3.1-sonar-large-128k-online`ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯llamaã‚’ãƒ™ãƒ¼ã‚¹ã«æ”¹è‰¯ã•ã‚ŒãŸã‚‚ã®ã£ã½ã„ã§ã™ã€‚

ã¾ãŸåˆ¥é€”GitHubã®APIã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’ä½œæˆã—ã¦ã„ã¾ã™ã€‚

```repo.ts
import { NextApiHandler } from "next"

const handler: NextApiHandler = async (req, res) => {
    const { user ,repo } = req.query
    const data = await fetch(`https://api.github.com/repos/${user}/${repo}`, {
        headers: {
            "Accept": "application/vnd.github.v3+json",
            // APIãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®š
            "X-Github-Api-Version": "2022-11-28",
            "Authorization": `token ${process.env.GITHUB_TOKEN}`,
        }
    })
    const data_json = await data.json()
    if (data_json.message === "Not Found") {
        res.status(404).json({ status: 66 })
        return
    } else {
        res.status(200).json({ data: data_json })
    }
    res.end()
}

export default handler
```


URLã®å½¢å¼ã‚’/user/_GITHUB_USER_ID_?repo=_REPOSITORY_NAME_ ã¨ã—ãã“ã‹ã‚‰å¾—ã‚‰ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼IDã¨ãƒªãƒã‚¸ãƒˆãƒªåã‚’å–å¾—ã€ãã‚Œã‚’ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’ä»‹ã—ã¦GitHubã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹æµã‚Œã§ã™ã€‚


ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å´ã§ã¯`getServerSideProps`é–¢æ•°ã‚’ç”¨ã„ã¦ä¸Šè¨˜ã®ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã«å¯¾ã—ã¦POSTè¦æ±‚ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚
```[user].tsx
export async function getServerSideProps(context) {
    const { user, repo } = context.query
    try {
    //ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢POSTè¦æ±‚
        const response = await fetch(`http://<YOUR_SERVER_ADDRES>/api/repo?user=${user}&repo=${repo}`)
        if (!response.ok) {
            return {
                redirect: {
                //è¦‹ã¤ã‹ã‚‰ãªã‹ã£ãŸå ´åˆã¯ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
                    destination: '/404?status=not-found-repo',
                    permanent: false,
                }
            }
        }
        const github_code_json = await response.json()
        // æ‰±ã„ã‚„ã™ã„ã‚ˆã†ã«å½¢å¼ã‚’æŒ‡å®š
        return {
            props: {
                data: {
                    status: "success",
                    user: user,
                    repo: repo,
                    data: github_code_json.data
                }
            },
        }
    } catch (error) {
        return {
            props: {
                data: {
                    status: "error",
                    error: error.message || "An unknown error occurred"
                }
            },
        }
    }
}
```

GitHubã®APIæƒ…å ±ã¨ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰å…¥åŠ›ã•ã‚ŒãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚‚ã¨ã«å…ˆè¿°ã®é€šã‚ŠPerplexityã®APIã«ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢çµŒç”±ã§è¦æ±‚ã‚’é€ä¿¡ã—ã¾ã™ã€‚

### æœ€çµ‚çš„ãªå‹•ä½œã®æµã‚Œ
![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2081812/9fce5f62-804c-45ea-abc8-9a7716e77722.png)

# å®Ÿéš›ã«ç¨¼åƒã•ã›ãŸã‚‚ã®ãŒã“ã¡ã‚‰

ã“ã‚Œã¯GitHubä¸Šã®ãƒˆãƒ¼ãƒãƒ«ã‚ºæ°æœ¬äºº(?)ã®Linuxãƒªãƒã‚¸ãƒˆãƒªã§ã™ã€‚
![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2025-03-20 165757.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2081812/e6be303e-2460-485d-894d-496e321ace82.png)


# ã¾ã¨ã‚
ä»Šå›ã¯APIãªã©ã®é–¢ä¿‚ã§GitHubã®ã¿ã®å¯¾å¿œã«ãªã‚Šã¾ã—ãŸãŒã€ä»Šå¾Œã¯ã„ã‚ã‚“ãªãƒªãƒã‚¸ãƒˆãƒªã‚‚èª­ã¿å–ã‚Œã‚‹ã‚ˆã†ã«ã—ãŸã„ã§ã™ã€‚

ã¾ãŸã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®æ‡¸å¿µã¯MarkDownå½¢å¼è¡¨ç¤ºã¸ã®å¯¾å¿œãªã©ã¾ã ã¾ã æ”¹è‰¯ç‚¹ã¯ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚

ä»Šå›ã¯Perplexityã®APIã‚’ä½¿ã„ã¾ã—ãŸãŒã€ç†è«–ä¸Šã¯Geminiã‚„GPT4ã®APIã§ã‚‚å¯èƒ½ã§ã™ã€‚

# ä»Šå›ã®è¨˜äº‹ã®GitHubãƒªãƒã‚¸ãƒˆãƒª

https://github.com/nknighta/codash


# å‚è€ƒãƒªãƒ³ã‚¯
- Panda CSS

https://panda-css.com/docs/installation/nextjs

- Perplexity

https://www.perplexity.ai/

https://docs.perplexity.ai/
